<launch>
	<!-- This needed due to bug in rviz visualization on melodic. When bug is fixed line below could be deleted -->
	<env name="LC_NUMERIC" value="en_US.UTF-8" />


	<node pkg="nodelet" type="nodelet" name="nodelet_manager"  args="manager"/>


	<node pkg="nodelet" type="nodelet" name="left" launch-prefix="nice -n -20"
		args="load cv_camera/CvCameraNodelet nodelet_manager __name:=left">
		<param name="device_path" value="/dev/stereo0/left" />
		<param name="frame_id" value="stereo0/left" />
		<param name="camera_name" value="CNS-CWC6:U79085000613" />
		<param name="camera_info_url" value="file://$(find porter_stereo)/config/left.yaml" />
		<param name="rate" value="30.0" />
		<param name="cv_cap_prop_fourcc" value="1196444237" />
		<param name="cv_cap_prop_fps" value="30.0" />
		<param name="cv_cap_prop_frame_width" value="1280" />
		<param name="cv_cap_prop_frame_height" value="720" />
		<param name="cv_cap_prop_convert_rgb" value="1" />
	</node>
	
	<node pkg="nodelet" type="nodelet" name="right" launch-prefix="nice -n -20"
		args="load cv_camera/CvCameraNodelet nodelet_manager __name:=right">
		<param name="device_path" value="/dev/stereo0/right" />
		<param name="frame_id" value="stereo0/right" />
		<param name="camera_name" value="CNS-CWC6:U79085000764" />
		<param name="camera_info_url" value="file://$(find porter_stereo)/config/right.yaml" />
		<param name="rate" value="30.0" />
		<param name="cv_cap_prop_fourcc" value="1196444237" />
		<param name="cv_cap_prop_fps" value="30.0" />
		<param name="cv_cap_prop_frame_width" value="1280" />
		<param name="cv_cap_prop_frame_height" value="720" />
		<param name="cv_cap_prop_convert_rgb" value="1" />
	</node>

	<node pkg="porter_stereo" type="synchronisation_node.py" name="stereo_sync"/>

	<!-- <node pkg="stereo_image_proc" type="stereo_image_proc" name="calc">
	
	</node> -->




	<!--


	<node pkg="cv_camera" type="cv_camera_node" name="left_camera">
		<param name="device_path" value="/dev/stereo0/left" />
		<param name="frame_id" value="/stereo/left" />
		<param name="camera_name" value="CNS-CWC6:U79085000613" />
		<param name="camera_info_url" value="" />
		<param name="image_width" value="1920" />
		<param name="image_height" value="1080" />
		<param name="cv_cap_prop_fourcc" value="MJPG" />
		<param name="rate" value="30" />
	</node>

	<node pkg="cv_camera" type="cv_camera_node" name="right_camera">
		<param name="device_path" value="/dev/stereo0/right" />
		<param name="frame_id" value="/stereo/right" />
		<param name="camera_name" value="CNS-CWC6:U79085000764" />
		<param name="camera_info_url" value="" />
		<param name="image_width" value="1920" />
		<param name="image_height" value="1080" />
		<param name="cv_cap_prop_fourcc" value="MJPG" />
		<param name="rate" value="30" />
	</node>
	-->

</launch>
